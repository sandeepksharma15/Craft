@using Craft.Components.Generic
@using Craft.Testimonials.Domain
@using Craft.UiComponents.Constants
@using Craft.UiComponents.Semantic
@using Microsoft.AspNetCore.Components.Sections
@using MudBlazor

<SpinLoader IsLoading="@(_testimonial is null)">
    <Content>

        <MudForm>
            <MudGrid Class="p-3">
                @* Name *@
                <MudItem xs="12">
                    <MudTextField @bind-Value="_testimonialVM!.Name" Label="Name" Placeholder="Name"
                                  Variant="Variant.Outlined" Counter="Testimonial.NameLength"
                                  MaxLength="Testimonial.NameLength" Immediate="true" />
                </MudItem>

                @* Feedback *@
                <MudItem xs="12">
                    <MudTextField @bind-Value="_testimonialVM!.Feedback" Label="Feedback" Placeholder="Feedback"
                                  Variant="Variant.Outlined" Counter="Testimonial.FeedbackLength"
                                  MaxLength="Testimonial.FeedbackLength" Immediate="true" Lines="5" />
                </MudItem>

                @* Search Tags *@
                <MudItem xs="12">
                    <MudChipSet @bind-SelectedValues="_selected" SelectionMode="SelectionMode.MultiSelection" Variant="Variant.Text" Color="Color.Info">
                        @foreach (string tag in SearchTags)
                        {
                            <MudChip Value="@(tag)" />
                        }
                    </MudChipSet>
                </MudItem>

                @* Rating *@
                <MudItem xs="12" sm="6">
                    <MudText Typo="Typo.h6">Rating: @_testimonialVM!.Rating</MudText>
                </MudItem>

                @* Approval *@
                <MudItem xs="12" sm="6">
                     <MudCheckBox T="bool" @bind-Value="_testimonialVM!.IsApproved" Label="Approved" />
                </MudItem>


            </MudGrid>

            <CraftDiv Class="p-3 mb-1">
                <MudButton Variant="Variant.Filled" Color="Color.Success"
                           StartIcon="@IconContent.Save" OnClick="SaveTestimonial"> Save </MudButton>
                <MudButton Variant="Variant.Outlined" Color="Color.Warning" class="ml-2"
                           StartIcon="@IconContent.Cancel" OnClick="CancelTestimonial"> Cancel </MudButton>
            </CraftDiv>

        </MudForm>

    </Content>
</SpinLoader>


